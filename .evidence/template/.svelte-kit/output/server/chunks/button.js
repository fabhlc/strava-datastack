import{n as O,a as b,t as W,N as K,r as E,u as U,b as D,g as P,m as q,O as X}from"./VennDiagram.svelte_svelte_type_style_lang.js";import{d as Y,a as I,w as F}from"./index2.js";import"dequal";import{flip as G,offset as J,shift as Q,arrow as Z,size as $,autoUpdate as tt,computePosition as et}from"@floating-ui/dom";import{createFocusTrap as ot}from"focus-trap";import{t as nt}from"./updater.js";import{c as j}from"./utils.js";import{c as z,a as _,e as T,b as x,d as k,v as st}from"./ssr.js";import{c as rt}from"./utils2.js";const it=/^(?:area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/;function S(e){return it.test(e)||e.toLowerCase()==="!doctype"}function at(e){return e[e.length-1]}function Rt(e,t){return e.map((n,o)=>e[(t+o)%e.length])}function R(e){return new Promise(t=>setTimeout(t,e))}const B=()=>typeof window<"u";function ut(){return navigator.userAgentData?.platform??navigator.platform}const N=e=>B()&&e.test(ut().toLowerCase()),ct=()=>B()&&!!navigator.maxTouchPoints,lt=()=>N(/^mac/)&&!ct(),dt=()=>N(/mac|iphone|ipad|ipod/i),ft=()=>dt()&&!lt(),C="data-melt-scroll-lock";function L(e,t){if(!e)return;const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function pt(e,t,n){if(!e)return;const o=e.style.getPropertyValue(t);return e.style.setProperty(t,n),()=>{o?e.style.setProperty(t,o):e.style.removeProperty(t)}}function mt(e){const t=e.getBoundingClientRect().left;return Math.round(t)+e.scrollLeft?"paddingLeft":"paddingRight"}function Bt(e){const t=document,n=t.defaultView??window,{documentElement:o,body:r}=t;if(r.hasAttribute(C))return O;r.setAttribute(C,"");const i=n.innerWidth-o.clientWidth,c=()=>pt(o,"--scrollbar-width",`${i}px`),a=mt(o),d=n.getComputedStyle(r)[a],u=()=>L(r,{overflow:"hidden",[a]:`calc(${d} + ${i}px)`}),p=()=>{const{scrollX:y,scrollY:l,visualViewport:m}=n,h=m?.offsetLeft??0,f=m?.offsetTop??0,v=L(r,{position:"fixed",overflow:"hidden",top:`${-(l-Math.floor(f))}px`,left:`${-(y-Math.floor(h))}px`,right:"0",[a]:`calc(${d} + ${i}px)`});return()=>{v?.(),n.scrollTo(y,l)}},w=[c(),ft()?p():u()];return()=>{w.forEach(y=>y?.()),r.removeAttribute(C)}}function Nt(e){const{open:t,forceVisible:n,activeTrigger:o}=e;return Y([t,n,o],([r,s,i])=>(r||s)&&i!==null)}function ht(e){let t=e.parentElement;for(;b(t)&&!t.hasAttribute("data-portal");)t=t.parentElement;return t||"body"}function Ht(e,t){return t!==void 0?t:ht(e)==="body"?document.body:null}async function Kt(e){const{prop:t,defaultEl:n}=e;if(await Promise.all([R(1),W]),t===void 0){n?.focus();return}const o=K(t)?t(n):t;if(typeof o=="string"){const r=document.querySelector(o);if(!b(r))return;r.focus()}else b(o)&&o.focus()}const yt={strategy:"absolute",placement:"top",gutter:5,flip:!0,sameWidth:!1,overflowPadding:8},vt={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function bt(e,t,n={}){if(!t||!e||n===null)return{destroy:O};const o={...yt,...n},r=t.querySelector("[data-arrow=true]"),s=[];o.flip&&s.push(G({boundary:o.boundary,padding:o.overflowPadding}));const i=b(r)?r.offsetHeight/2:0;if(o.gutter||o.offset){const a=o.gutter?{mainAxis:o.gutter}:o.offset;a?.mainAxis!=null&&(a.mainAxis+=i),s.push(J(a))}s.push(Q({boundary:o.boundary,crossAxis:o.overlap,padding:o.overflowPadding})),r&&s.push(Z({element:r,padding:8})),s.push($({padding:o.overflowPadding,apply({rects:a,availableHeight:d,availableWidth:u}){o.sameWidth&&Object.assign(t.style,{width:`${Math.round(a.reference.width)}px`,minWidth:"unset"}),o.fitViewport&&Object.assign(t.style,{maxWidth:`${u}px`,maxHeight:`${d}px`})}}));function c(){if(!e||!t||b(e)&&!e.ownerDocument.documentElement.contains(e))return;const{placement:a,strategy:d}=o;et(e,t,{placement:a,middleware:s,strategy:d}).then(u=>{const p=Math.round(u.x),w=Math.round(u.y),[y,l]=gt(u.placement);if(t.setAttribute("data-side",y),t.setAttribute("data-align",l),Object.assign(t.style,{position:o.strategy,top:`${w}px`,left:`${p}px`}),b(r)&&u.middlewareData.arrow){const{x:m,y:h}=u.middlewareData.arrow,f=u.placement.split("-")[0];r.setAttribute("data-side",f),Object.assign(r.style,{position:"absolute",left:m!=null?`${m}px`:"",top:h!=null?`${h}px`:"",[f]:`calc(100% - ${i}px)`,transform:vt[f],backgroundColor:"inherit",zIndex:"inherit"})}return u})}return Object.assign(t.style,{position:o.strategy}),{destroy:tt(e,t,c)}}function gt(e){const[t,n="center"]=e.split("-");return[t,n]}function wt(e={}){let t;const{immediate:n,...o}=e,r=F(!1),s=F(!1),i=p=>t?.activate(p),c=p=>{t?.deactivate(p)},a=()=>{t&&(t.pause(),s.set(!0))},d=()=>{t&&(t.unpause(),s.set(!1))};return{useFocusTrap:p=>(t=ot(p,{...o,onActivate(){r.set(!0),e.onActivate?.()},onDeactivate(){r.set(!1),e.onDeactivate?.()}}),n&&i(),{destroy(){c(),t=void 0}}),hasFocus:I(r),isPaused:I(s),activate:i,deactivate:c,pause:a,unpause:d}}const A=[],Pt=(e,t)=>{let n=O;function o(){const s=A.indexOf(e);s>=0&&A.splice(s,1)}function r(s){n();const{open:i,onClose:c,shouldCloseOnInteractOutside:a,closeOnInteractOutside:d}=s;R(100).then(()=>{i?A.push(e):o()});function u(){return at(A)===e}function p(){u()&&c&&(c(),o())}function w(l){const m=l.target;E(m)&&m&&u()&&(l.preventDefault(),l.stopPropagation(),l.stopImmediatePropagation())}function y(l){a?.(l)&&u()&&(l.preventDefault(),l.stopPropagation(),l.stopImmediatePropagation(),p())}n=Tt(e,{onInteractOutsideStart:w,onInteractOutside:d?y:void 0,enabled:i}).destroy}return r(t),{update:r,destroy(){o(),n()}}},Ot={floating:{},focusTrap:{},modal:{},escapeKeydown:{},portal:"body"},Ut=(e,t)=>{e.dataset.escapee="";const{anchorElement:n,open:o,options:r}=t;if(!n||!o||!r)return{destroy:O};const s={...Ot,...r},i=[];if(s.portal!==null&&i.push(xt(e,s.portal).destroy),i.push(bt(n,e,s.floating).destroy),s.focusTrap!==null){const{useFocusTrap:a}=wt({immediate:!0,escapeDeactivates:!1,allowOutsideClick:!0,returnFocusOnDeactivate:!1,fallbackFocus:e,...s.focusTrap});i.push(a(e).destroy)}s.modal!==null&&i.push(Pt(e,{onClose:()=>{b(n)&&(o.set(!1),n.focus())},shouldCloseOnInteractOutside:a=>!(a.defaultPrevented||b(n)&&n.contains(a.target)),...s.modal}).destroy),s.escapeKeydown!==null&&i.push(U(e,{enabled:o,handler:()=>{o.set(!1)},...s.escapeKeydown}).destroy);const c=D(...i);return{destroy(){c()}}},xt=(e,t="body")=>{let n;if(!b(t)&&typeof t!="string")return{destroy:O};async function o(s){if(t=s,typeof t=="string"){if(n=document.querySelector(t),n===null&&(await W(),n=document.querySelector(t)),n===null)throw new Error(`No element found matching css selector: "${t}"`)}else if(t instanceof HTMLElement)n=t;else throw new TypeError(`Unknown portal target type: ${t===null?"null":typeof t}. Allowed types: string (CSS selector) or HTMLElement.`);e.dataset.portal="",n.appendChild(e),e.hidden=!1}function r(){e.remove()}return o(t),{update:o,destroy:r}},Tt=(e,t)=>{let n=O,o=O,r=!1,s=!1,i=!1;function c(u){n(),o();const{onInteractOutside:p,onInteractOutsideStart:w,enabled:y}=u;if(!y)return;function l(f){p&&V(f,e)&&w?.(f);const v=f.target;E(v)&&H(e,v)&&(s=!0),r=!0}function m(f){p?.(f)}const h=St(e);if(typeof PointerEvent<"u"){const f=v=>{o();const g=M=>{a(M)&&m(M),d()};if(v.pointerType==="touch"){o=P(h,"click",g,{capture:!0,once:!0});return}g(v)};n=D(P(h,"pointerdown",l,!0),P(h,"pointerup",f,!0))}else{const f=g=>{i?i=!1:a(g)&&m(g),d()},v=g=>{i=!0,a(g)&&m(g),d()};n=D(P(h,"mousedown",l,!0),P(h,"mouseup",f,!0),P(h,"touchstart",l,!0),P(h,"touchend",v,!0))}}function a(u){return!!(r&&!s&&V(u,e))}function d(){r=!1,s=!1}return c(t),{update:c,destroy(){n(),o()}}};function V(e,t){if("button"in e&&e.button>0)return!1;const n=e.target;if(!E(n))return!1;const o=n.ownerDocument;return!o||!o.documentElement.contains(n)?!1:t&&!H(t,n)}function H(e,t){return e===t||e.contains(t)}function St(e){return e?.ownerDocument??document}const At={orientation:"horizontal",decorative:!1},qt=e=>{const t={...At,...e},n=nt(t),{orientation:o,decorative:r}=n;return{elements:{root:q("separator",{stores:[o,r],returned:([i,c])=>({role:c?"none":"separator","aria-orientation":i==="vertical"?i:void 0,"aria-hidden":c,"data-orientation":i})})},options:n}};function Ct(e){const t={};return e.forEach(n=>{Object.keys(n).forEach(o=>{o!=="action"&&(t[o]=n[o])})}),t}const Dt=z((e,t,n,o)=>{let r=j(t,["href","type","builders","el"]),{href:s=void 0}=t,{type:i=void 0}=t,{builders:c=[]}=t,{el:a=void 0}=t;const d={"data-button-root":""};return t.href===void 0&&n.href&&s!==void 0&&n.href(s),t.type===void 0&&n.type&&i!==void 0&&n.type(i),t.builders===void 0&&n.builders&&c!==void 0&&n.builders(c),t.el===void 0&&n.el&&a!==void 0&&n.el(a),`${c&&c.length?` ${(u=>u?`<${s?"a":"button"}${_([{type:T(s?void 0:i)},{href:T(s)},{tabindex:"0"},x(Ct(c)),x(r),x(d)],{})}${k("this",a,0)}>${S(u)?"":`${o.default?o.default({}):""}`}${S(u)?"":`</${u}>`}`:"")(s?"a":"button")}`:` ${(u=>u?`<${s?"a":"button"}${_([{type:T(s?void 0:i)},{href:T(s)},{tabindex:"0"},x(r),x(d)],{})}${k("this",a,0)}>${S(u)?"":`${o.default?o.default({}):""}`}${S(u)?"":`</${u}>`}`:"")(s?"a":"button")}`}`});function Xt(e){return(t={})=>Et(e,t)}function Et(e,t){const o={...{side:"bottom",align:"center",sideOffset:0,alignOffset:0,sameWidth:!1,avoidCollisions:!0,collisionPadding:8,fitViewport:!1,strategy:"absolute",overlap:!1},...t};e.update(r=>({...r,placement:Mt(o.side,o.align),offset:{...r.offset,mainAxis:o.sideOffset,crossAxis:o.alignOffset},gutter:0,sameWidth:o.sameWidth,flip:o.avoidCollisions,overflowPadding:o.collisionPadding,boundary:o.collisionBoundary,fitViewport:o.fitViewport,strategy:o.strategy,overlap:o.overlap}))}function Mt(e,t){return t==="center"?e:`${e}-${t}`}const Yt=z((e,t,n,o)=>{let r=j(t,["class","variant","size","builders"]),{class:s=void 0}=t,{variant:i="default"}=t,{size:c="default"}=t,{builders:a=[]}=t;return t.class===void 0&&n.class&&s!==void 0&&n.class(s),t.variant===void 0&&n.variant&&i!==void 0&&n.variant(i),t.size===void 0&&n.size&&c!==void 0&&n.size(c),t.builders===void 0&&n.builders&&a!==void 0&&n.builders(a),`${st(Dt,"ButtonPrimitive.Root").$$render(e,Object.assign({},{builders:a},{class:rt(X({variant:i,size:c,className:s}),"hover:bg-base-200 shadow-base-200")},{type:"button"},r),{},{default:()=>`${o.default?o.default({}):""}`})}`});export{Yt as B,xt as a,Xt as b,qt as c,Nt as d,Ht as g,Kt as h,S as i,Bt as r,R as s,Ut as u,Rt as w};
