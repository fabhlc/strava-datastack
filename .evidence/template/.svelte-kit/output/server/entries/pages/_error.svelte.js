import{c as M,s as I}from"../../chunks/utils.js";import{s as J,g as K,c as _,a as O,b as C,d as N,v as T,h as V}from"../../chunks/ssr.js";import{p as Z}from"../../chunks/stores2.js";import"dequal";import{o as $,m as R,h as ee,j as B,b as te,c as z,k as S,q as ae,a as U,s as re,t as ie}from"../../chunks/VennDiagram.svelte_svelte_type_style_lang.js";import{t as oe,g as le,o as se,e as F,r as ne,c as de,a as ce,b as ue}from"../../chunks/updater.js";import{d as fe,w as Q}from"../../chunks/index2.js";import"clsx";import{c as q}from"../../chunks/utils2.js";import{I as X}from"../../chunks/Icon.js";import{C as ve}from"../../chunks/index7.js";import{b as me}from"../../chunks/index6.js";import"../../chunks/stores.js";import"@uwdata/mosaic-sql";import"@evidence-dev/universal-sql/client-duckdb";import"ssf";import"@tidyjs/tidy";import"deep-object-diff";import"chroma-js";import"export-to-csv";import"echarts";import"yaml";import"@astronautlabs/jsonpath";import"tua-body-scroll-lock";import"lodash/merge.js";import"prismjs";import"debounce";import"downloadjs";import"echarts-stat";const{name:w,selector:G}=ee("accordion"),he={multiple:!1,disabled:!1,forceVisible:!1},Ce=s=>{const e={...he,...s},t=oe($(e,"value","onValueChange","defaultValue")),r=le(["root"]),{disabled:a,forceVisible:i}=t,n=e.value??Q(e.defaultValue),f=se(n,e?.onValueChange),c=(o,l)=>l===void 0?!1:typeof l=="string"?l===o:l.includes(o),d=fe(f,o=>l=>c(l,o)),u=R(w(),{returned:()=>({"data-melt-id":r.root})}),v=o=>typeof o=="string"?{value:o}:o,b=o=>typeof o=="number"?{level:o}:o,g=R(w("item"),{stores:f,returned:o=>l=>{const{value:m,disabled:h}=v(l);return{"data-state":c(m,o)?"open":"closed","data-disabled":B(h)}}}),y=R(w("trigger"),{stores:[f,a],returned:([o,l])=>m=>{const{value:h,disabled:x}=v(m);return{disabled:B(l||x),"aria-expanded":!!c(h,o),"aria-disabled":!!x,"data-disabled":B(x),"data-value":h,"data-state":c(h,o)?"open":"closed"}},action:o=>({destroy:te(z(o,"click",()=>{const m=o.dataset.disabled==="true",h=o.dataset.value;m||!h||P(h)}),z(o,"keydown",m=>{if(![S.ARROW_DOWN,S.ARROW_UP,S.HOME,S.END].includes(m.key))return;if(m.preventDefault(),m.key===S.SPACE||m.key===S.ENTER){const D=o.dataset.disabled==="true",L=o.dataset.value;if(D||!L)return;P(L);return}const h=m.target,x=ae(r.root);if(!x||!U(h))return;const p=Array.from(x.querySelectorAll(G("trigger"))).filter(D=>U(D)?D.dataset.disabled!=="true":!1);if(!p.length)return;const k=p.indexOf(h);m.key===S.ARROW_DOWN&&p[(k+1)%p.length].focus(),m.key===S.ARROW_UP&&p[(k-1+p.length)%p.length].focus(),m.key===S.HOME&&p[0].focus(),m.key===S.END&&p[p.length-1].focus()}))})}),E=R(w("content"),{stores:[f,a,i],returned:([o,l,m])=>h=>{const{value:x}=v(h),j=c(x,o)||m;return{"data-state":j?"open":"closed","data-disabled":B(l),"data-value":x,hidden:j?void 0:!0,style:re({display:j?void 0:"none"})}},action:o=>{ie().then(()=>{const l=F(),m=F(),h=document.querySelector(`${G("trigger")}, [data-value="${o.dataset.value}"]`);U(h)&&(o.id=l,h.setAttribute("aria-controls",l),h.id=m)})}}),A=R(w("heading"),{returned:()=>o=>{const{level:l}=b(o);return{role:"heading","aria-level":l,"data-heading-level":l}}});function P(o){f.update(l=>l===void 0?e.multiple?[o]:o:Array.isArray(l)?l.includes(o)?l.filter(m=>m!==o):(l.push(o),l):l===o?void 0:o)}return{ids:r,elements:{root:u,item:g,trigger:y,content:E,heading:A},states:{value:f},helpers:{isSelected:d},options:t}};function W(){return{NAME:"accordion",ITEM_NAME:"accordion-item",PARTS:["root","content","header","item","trigger"]}}function be(s){const e=Ce(ne(s)),{NAME:t,PARTS:r}=W(),a=de(t,r),i={...e,getAttrs:a,updateOption:ce(e.options)};return J(t,i),i}function H(){const{NAME:s}=W();return K(s)}function ge(s){const{ITEM_NAME:e}=W(),t=Q(s);return J(e,{propsStore:t}),{...H(),propsStore:t}}function Y(){const{ITEM_NAME:s}=W();return K(s)}function Ae(){const s=H(),{propsStore:e}=Y();return{...s,propsStore:e}}function ye(){const s=H(),{propsStore:e}=Y();return{...s,props:e}}function Te(s,e){return s.length!==e.length?!1:s.every((t,r)=>t===e[r])}const pe=_((s,e,t,r)=>{let a,i=M(e,["multiple","value","onValueChange","disabled","asChild","el"]),n,f,{multiple:c=!1}=e,{value:d=void 0}=e,{onValueChange:u=void 0}=e,{disabled:v=!1}=e,{asChild:b=!1}=e,{el:g=void 0}=e;const{elements:{root:y},states:{value:E},updateOption:A,getAttrs:P}=be({multiple:c,disabled:v,defaultValue:d,onValueChange:({next:l})=>Array.isArray(l)?((!Array.isArray(d)||!Te(d,l))&&(u?.(l),d=l),l):(d!==l&&(u?.(l),d=l),l)});f=I(y,l=>n=l);const o=P("root");return e.multiple===void 0&&t.multiple&&c!==void 0&&t.multiple(c),e.value===void 0&&t.value&&d!==void 0&&t.value(d),e.onValueChange===void 0&&t.onValueChange&&u!==void 0&&t.onValueChange(u),e.disabled===void 0&&t.disabled&&v!==void 0&&t.disabled(v),e.asChild===void 0&&t.asChild&&b!==void 0&&t.asChild(b),e.el===void 0&&t.el&&g!==void 0&&t.el(g),d!==void 0&&E.set(Array.isArray(d)?[...d]:d),A("multiple",c),A("disabled",v),a=n,Object.assign(a,o),f(),`${b?`${r.default?r.default({builder:a}):""}`:`<div${O([C(a),C(i)],{})}${N("this",g,0)}>${r.default?r.default({builder:a}):""}</div>`}`}),_e=_((s,e,t,r)=>{let a,i=M(e,["value","disabled","asChild","el"]),n,f,c,d,{value:u}=e,{disabled:v=void 0}=e,{asChild:b=!1}=e,{el:g=void 0}=e;const{elements:{item:y},propsStore:E,getAttrs:A}=ge({value:u,disabled:v});d=I(y,o=>c=o),f=I(E,o=>n=o);const P=A("item");return e.value===void 0&&t.value&&u!==void 0&&t.value(u),e.disabled===void 0&&t.disabled&&v!==void 0&&t.disabled(v),e.asChild===void 0&&t.asChild&&b!==void 0&&t.asChild(b),e.el===void 0&&t.el&&g!==void 0&&t.el(g),E.set({value:u,disabled:v}),a=c({...n,disabled:v}),Object.assign(a,P),f(),d(),`${b?`${r.default?r.default({builder:a}):""}`:`<div${O([C(a),C(i)],{})}${N("this",g,0)}>${r.default?r.default({builder:a}):""}</div>`}`}),Ee=_((s,e,t,r)=>{let a,i=M(e,["level","asChild","el"]),n,f,{level:c=3}=e,{asChild:d=!1}=e,{el:u=void 0}=e;const{elements:{heading:v},getAttrs:b}=H();f=I(v,y=>n=y);const g=b("header");return e.level===void 0&&t.level&&c!==void 0&&t.level(c),e.asChild===void 0&&t.asChild&&d!==void 0&&t.asChild(d),e.el===void 0&&t.el&&u!==void 0&&t.el(u),a=n(c),Object.assign(a,g),f(),`${d?`${r.default?r.default({builder:a}):""}`:`<div${O([C(a),C(i)],{})}${N("this",u,0)}>${r.default?r.default({builder:a}):""}</div>`}`}),xe=_((s,e,t,r)=>{let a,i=M(e,["asChild","el"]),n,f,c,d,{asChild:u=!1}=e,{el:v=void 0}=e;const{elements:{trigger:b},props:g,getAttrs:y}=ye();d=I(b,A=>c=A),f=I(g,A=>n=A),ue();const E=y("trigger");return e.asChild===void 0&&t.asChild&&u!==void 0&&t.asChild(u),e.el===void 0&&t.el&&v!==void 0&&t.el(v),a=c({...n}),Object.assign(a,E),f(),d(),`${u?`${r.default?r.default({builder:a}):""}`:`<button${O([C(a),{type:"button"},C(i)],{})}${N("this",v,0)}>${r.default?r.default({builder:a}):""}</button>`}`}),Se=_((s,e,t,r)=>{let a,i=M(e,["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"]),n,f,c,d,u,v,{transition:b=void 0}=e,{transitionConfig:g=void 0}=e,{inTransition:y=void 0}=e,{inTransitionConfig:E=void 0}=e,{outTransition:A=void 0}=e,{outTransitionConfig:P=void 0}=e,{asChild:o=!1}=e,{el:l=void 0}=e;const{elements:{content:m},helpers:{isSelected:h},propsStore:x,getAttrs:j}=Ae();d=I(m,k=>c=k),v=I(h,k=>u=k),f=I(x,k=>n=k);const p=j("content");return e.transition===void 0&&t.transition&&b!==void 0&&t.transition(b),e.transitionConfig===void 0&&t.transitionConfig&&g!==void 0&&t.transitionConfig(g),e.inTransition===void 0&&t.inTransition&&y!==void 0&&t.inTransition(y),e.inTransitionConfig===void 0&&t.inTransitionConfig&&E!==void 0&&t.inTransitionConfig(E),e.outTransition===void 0&&t.outTransition&&A!==void 0&&t.outTransition(A),e.outTransitionConfig===void 0&&t.outTransitionConfig&&P!==void 0&&t.outTransitionConfig(P),e.asChild===void 0&&t.asChild&&o!==void 0&&t.asChild(o),e.el===void 0&&t.el&&l!==void 0&&t.el(l),a=c({...n}),Object.assign(a,p),f(),d(),v(),`${o&&u(n.value)?`${r.default?r.default({builder:a}):""}`:`${b&&u(n.value)?`<div${O([C(a),C(i)],{})}${N("this",l,0)}>${r.default?r.default({builder:a}):""}</div>`:`${y&&A&&u(n.value)?`<div${O([C(a),C(i)],{})}${N("this",l,0)}>${r.default?r.default({builder:a}):""}</div>`:`${y&&u(n.value)?`<div${O([C(a),C(i)],{})}${N("this",l,0)}>${r.default?r.default({builder:a}):""}</div>`:`${A&&u(n.value)?`<div${O([C(a),C(i)],{})}${N("this",l,0)}>${r.default?r.default({builder:a}):""}</div>`:`${u(n.value)?`<div${O([C(a),C(i)],{})}${N("this",l,0)}>${r.default?r.default({builder:a}):""}</div>`:""}`}`}`}`}`}`}),Ie=_((s,e,t,r)=>{let a=M(e,["class"]),{class:i=void 0}=e;return e.class===void 0&&t.class&&i!==void 0&&t.class(i),`${T(Se,"AccordionPrimitive.Content").$$render(s,Object.assign({},{class:q("overflow-hidden text-sm",i)},a),{},{default:()=>`<div class="pb-4 pt-0">${r.default?r.default({}):""}</div>`})}`}),Pe=_((s,e,t,r)=>{let a=M(e,["class","value"]),{class:i=void 0}=e,{value:n}=e;return e.class===void 0&&t.class&&i!==void 0&&t.class(i),e.value===void 0&&t.value&&n!==void 0&&t.value(n),`${T(_e,"AccordionPrimitive.Item").$$render(s,Object.assign({},{value:n},{class:q("border-b border-base-300",i)},a),{},{default:()=>`${r.default?r.default({}):""}`})}`}),Oe=_((s,e,t,r)=>{let a=M(e,["class","level"]),{class:i=void 0}=e,{level:n=3}=e;return e.class===void 0&&t.class&&i!==void 0&&t.class(i),e.level===void 0&&t.level&&n!==void 0&&t.level(n),`${T(Ee,"AccordionPrimitive.Header").$$render(s,{level:n,class:"flex"},{},{default:()=>`${T(xe,"AccordionPrimitive.Trigger").$$render(s,Object.assign({},{class:q("flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180 rounded focus-visible:ring-base-200 focus-visible:outline-none focus-visible:ring-2",i)},a),{},{default:()=>`${r.default?r.default({}):""} ${T(X,"Icon").$$render(s,{src:ve,class:"h-4 w-4 shrink-0 text-base-300 transition-transform duration-200"},{},{})}`})}`})}`}),Ne=pe,ke=_((s,e,t,r)=>{let{single:a=!1}=e,{class:i=void 0}=e;return e.single===void 0&&t.single&&a!==void 0&&t.single(a),e.class===void 0&&t.class&&i!==void 0&&t.class(i),`${T(Ne,"BaseAccordion.Root").$$render(s,{class:i,multiple:!a},{},{default:()=>`${r.default?r.default({}):""}`})}`}),Me=_((s,e,t,r)=>{let{title:a=""}=e,{compact:i=!1}=e,{class:n=void 0}=e;return e.title===void 0&&t.title&&a!==void 0&&t.title(a),e.compact===void 0&&t.compact&&i!==void 0&&t.compact(i),e.class===void 0&&t.class&&n!==void 0&&t.class(n),`${T(Pe,"BaseAccordion.Item").$$render(s,{value:a,class:n},{},{default:()=>`${T(Oe,"BaseAccordion.Trigger").$$render(s,{class:i?"py-0":""},{},{default:()=>`${r.title?r.title({}):` ${V(a)} `}`})} ${T(Ie,"BaseAccordion.Content").$$render(s,{},{},{default:()=>`${r.default?r.default({}):""}`})}`})}`}),Ve=_((s,e,t,r)=>{let{textToCopy:a=""}=e;return e.textToCopy===void 0&&t.textToCopy&&a!==void 0&&t.textToCopy(a),`<div class="relative"> <button class="bg-base-200 border border-base-300 rounded p-2 hover:bg-base-200/80 active:bg-base-200" title="Copy to Clipboard">${T(X,"Icon").$$render(s,{src:me,class:"w-4 h-4"},{},{})}</button></div>`}),dt=_((s,e,t,r)=>{let a,i,n;n=I(Z,c=>i=c);const f=c=>{let d="";return c.stack&&(d+=c.stack),c.cause&&(d+=`

Caused By:
	`,d+=f(c.cause).split(`
`).join(`
	`)),d};return a=f(i.error),n(),`${i.status===404?`<h1 class="mt-0 mb-8 py-0" data-svelte-h="svelte-s9jbdv">Page Not Found</h1> <p><span class="font-mono text-base">${V(i.status)}</span>: The page
		<span class="font-mono text-base bg-base-200">${V(i.url.pathname)}</span> can&#39;t be found in the project.</p>`:`${i.status===500?`<h1 class="mt-0 mb-8 py-0" data-svelte-h="svelte-zh66lr">Application Error</h1> ${i.error.message?`<p class="font-mono text-sm bg-base-200 px-2 py-2"><span class="font-mono text-base">${V(i.status)}</span>:${V(i.error.message)}</p>`:""} ${i.error.stack||i.error.cause?`${T(ke,"Accordion").$$render(s,{},{},{default:()=>`${T(Me,"AccordionItem").$$render(s,{title:"Error Details"},{},{default:()=>`<div class="relative"><span class="absolute top-2 right-2">${T(Ve,"CopyButton").$$render(s,{textToCopy:a},{},{})}</span> <pre class="font-mono text-sm bg-base-200 px-2 py-2 overflow-auto">${V(a)}</pre></div>`})}`})}`:""}`:`<h1 data-svelte-h="svelte-blh3ny">Unknown Error Encountered</h1> <span class="font-mono text-base">HTTP ${V(i.status)}</span>`}`}`});export{dt as default};
